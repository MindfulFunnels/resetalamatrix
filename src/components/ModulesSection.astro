---
interface Lesson {
  title: string;
  duration: string;
}

interface Module {
  title: string;
  description: string;
}

const modules: Module[] = [
  {
    title: "EMPIEZA POR AQUÍ",
    description:
      "Guía rápida sobre el programa y cómo empezar a trabajar en él.",
  },
  {
    title: "MENTALIDAD CORRECTA",
    description:
      "Construir una mente alineada con tu esencia y tu propósito, dejando atrás creencias limitantes impuestas por el sistema.",
  },
  {
    title: "CONOCE AL ENEMIGO Y AL ESCENARIO",
    description:
      "Desvelar cómo opera la matrix en lo invisible y lo visible. Porque solo se puede trascender lo que se comprende.",
  },
  {
    title: "DESCUBRE LAS TRAMPAS DEL SISTEMA",
    description:
      "Identificar las jaulas invisibles que te mantienen dormido: el consumismo sin sentido, la manipulación de la industria farmacéutica, el control de masas a través de los medios, los intereses ocultos de la política y la programación mental que te aleja de tu verdadero poder.",
  },
  {
    title: "DESPARASITACIÓN MULTIDIMENSIONAL",
    description:
      "Liberarte de cargas energéticas, físicas, emocionales y espirituales, patrones heredados y manipulaciones sutiles que bloquean tu evolución.",
  },
  {
    title: "HACKEAR EL SISTEMA DESDE EL IKIGAI",
    description:
      "Descubrir tu propósito de vida y comenzar a vivir desde ahí, creando una realidad más libre, próspera y alineada con tu verdadero ser. Accede a herramientas prácticas para recuperar tu poder, tomar el control de tu vida y actuar desde la conciencia.",
  },
  {
    title: "MASTERCLASS EXCLUSIVAS",
    description: "Disfruta de las masterclass grabadas.",
  },
];

const bonusModules: Module[] = [
  {
    title: "CURSO COMPLETO: HACKEANDO EL SISTEMA DE CONTROL",
    description:
      "En este bonus exclusivo vas a descubrir cómo funciona el entramado oculto que mantiene a la humanidad sometida: educación, medios, política, tecnología y más. Aprendé a detectar los mecanismos de control y, sobre todo, a neutralizarlos desde tu conciencia.",
  },
  {
    title: "CURSO COMPLETO: HACKEANDO EMOCIONES NEGATIVAS",
    description:
      "Las emociones son puertas de acceso a tu verdadero poder... o a tu prisión interior. En este curso vas a aprender a identificar, comprender y transformar emociones como el miedo, la ira o la culpa en energía creativa, expansión y libertad interior.",
  },
  {
    title: "FORMACIONES EN DIRECTO",
    description:
      "Semana a semana, se subiran las sesiones que fueron grabadas, para que puedas verlas en diferido.",
  },
];
---

<section class='py-8'>
  <div class='container mx-auto px-4'>
    <h2 class='text-5xl font-bold text-center mb-4 text-white'>
      Contenido del Programa
    </h2>
    <p class='text-xl text-gray-300 text-center mb-16 max-w-2xl mx-auto'>
      Explora los módulos que componen nuestro programa de transformación
      personal
    </p>
    <div class='max-w-7xl mx-auto space-y-4'>
      {
        modules.map((module, index) => (
          <div class='bg-gray-800/80 backdrop-blur-sm rounded-xl overflow-hidden h-full border border-purple-500/10 hover:border-purple-500/30 transition duration-300'>
            <button
              id={`module-button-${index}`}
              class='w-full px-6 py-4 text-left flex items-center justify-between hover:bg-gray-700/50 transition-colors'
            >
              <div class='flex-1'>
                <div class='flex items-center justify-between'>
                  <h3 class='text-2xl font-semibold text-white'>
                    {module.title}
                  </h3>
                </div>
              </div>
              <svg
                class='w-5 h-5 text-purple-400 ml-4 transition-transform duration-300'
                fill='none'
                stroke='currentColor'
                viewBox='0 0 24 24'
              >
                <path
                  stroke-linecap='round'
                  stroke-linejoin='round'
                  stroke-width='2'
                  d='M19 9l-7 7-7-7'
                />
              </svg>
            </button>
            <div id={`module-content-${index}`} class='hidden'>
              <div class='px-6 py-4 space-y-4 border-t border-gray-700/50'>
                <div class='flex items-center justify-between py-2 hover:bg-gray-700/30 px-4 rounded-lg transition-colors'>
                  {module.description}
                </div>
              </div>
            </div>
          </div>
        ))
      }
    </div>
  </div>

  <section class='mt-16'>
    <div class='container mx-auto px-4'>
      <h2 class='text-5xl font-bold text-center mb-4 text-white'>
        Contenido Bonus
      </h2>
      <div class='max-w-7xl mx-auto space-y-4'>
        {
          bonusModules.map((module, index) => (
            <div class='bg-gray-800/80 backdrop-blur-sm rounded-xl overflow-hidden h-full border border-purple-500/10 hover:border-purple-500/30 transition duration-300'>
              <button
                id={`bonus-module-button-${index}`}
                class='w-full px-6 py-4 text-left flex items-center justify-between hover:bg-gray-700/50 transition-colors'
              >
                <div class='flex-1'>
                  <div class='flex items-center justify-between'>
                    <h3 class='text-2xl font-semibold text-white'>
                      {module.title}
                    </h3>
                  </div>
                </div>
                <svg
                  class='w-5 h-5 text-purple-400 ml-4 transition-transform duration-300'
                  fill='none'
                  stroke='currentColor'
                  viewBox='0 0 24 24'
                >
                  <path
                    stroke-linecap='round'
                    stroke-linejoin='round'
                    stroke-width='2'
                    d='M19 9l-7 7-7-7'
                  />
                </svg>
              </button>
              <div id={`bonus-module-content-${index}`} class='hidden'>
                <div class='px-6 py-4 space-y-4 border-t border-gray-700/50'>
                  <div class='flex items-center justify-between py-2 hover:bg-gray-700/30 px-4 rounded-lg transition-colors'>
                    {module.description}
                  </div>
                </div>
              </div>
            </div>
          ))
        }
      </div>
    </div>
  </section>

  <script is:inline>
    document.addEventListener("DOMContentLoaded", function () {
      const buttons = document.querySelectorAll('[id^="module-button-"]');
      const bonusButtons = document.querySelectorAll(
        '[id^="bonus-module-button-"]'
      );

      buttons.forEach((button, index) => {
        button.addEventListener("click", () => {
          const content = document.getElementById(`module-content-${index}`);
          const icon = button.querySelector("svg");

          // Cerrar todos los otros módulos
          buttons.forEach((otherButton, otherIndex) => {
            if (otherIndex !== index) {
              const otherContent = document.getElementById(
                `module-content-${otherIndex}`
              );
              const otherIcon = otherButton.querySelector("svg");
              otherContent.classList.add("hidden");
              otherIcon.style.transform = "rotate(0deg)";
            }
          });

          // Alternar el módulo actual
          content.classList.toggle("hidden");
          icon.style.transform = content.classList.contains("hidden")
            ? "rotate(0deg)"
            : "rotate(180deg)";
        });
      });

      bonusButtons.forEach((button, index) => {
        button.addEventListener("click", () => {
          const content = document.getElementById(
            `bonus-module-content-${index}`
          );
          const icon = button.querySelector("svg");

          // Cerrar todos los otros módulos bonus
          bonusButtons.forEach((otherButton, otherIndex) => {
            if (otherIndex !== index) {
              const otherContent = document.getElementById(
                `bonus-module-content-${otherIndex}`
              );
              const otherIcon = otherButton.querySelector("svg");
              otherContent.classList.add("hidden");
              otherIcon.style.transform = "rotate(0deg)";
            }
          });

          // Alternar el módulo actual
          content.classList.toggle("hidden");
          icon.style.transform = content.classList.contains("hidden")
            ? "rotate(0deg)"
            : "rotate(180deg)";
        });
      });
    });
  </script>

  <style>
    .module-content {
      transition: all 0.3s ease-in-out;
    }

    .module-button[aria-expanded="true"] svg {
      transform: rotate(180deg);
    }
  </style>
</section>
